# Test info

- Name: Verifikasi Footer Media Email
- Location: /Users/okyhariyanto/Nextcloud3/APP-Oks/CoursePlaywright/AMPerintis/tests/agencies.spec.js:102:5

# Error details

```
Error: page.waitForNavigation: net::ERR_ABORTED; maybe frame was detached?
=========================== logs ===========================
waiting for navigation until "load"
============================================================
    at /Users/okyhariyanto/Nextcloud3/APP-Oks/CoursePlaywright/AMPerintis/tests/agencies.spec.js:106:27
```

# Page snapshot

```yaml
- banner:
  - link "logo":
    - /url: /
    - img "logo"
  - navigation:
    - list:
      - listitem:
        - link "Home":
          - /url: /en/
      - listitem:
        - link "About":
          - /url: /en/about
      - listitem:
        - text: Service
        - img
      - listitem:
        - link "Branch":
          - /url: /en/branch
      - listitem:
        - text: News
        - img
      - listitem:
        - link "Make An Enquiry":
          - /url: /en/make-enquiry
  - paragraph: Change Language
  - combobox "Change Language":
    - option "Indonesia"
    - option "English(US)" [selected]
    - option "French"
    - option "China"
  - button:
    - img
- text: PELNI Agencies No Agent Knows Indonesia Better Than Us PELNI Agencies No Agent Knows Indonesia Better Than Us
- button "Previous"
- button "Next"
- button
- button
- heading "Latest News" [level=2]
- paragraph: Get the latest news about shipping, promo programs, and the latest initiatives from PELNI Agencies. Keep following our news for the latest information.
- link "image":
  - /url: /en/article/02cb480a-19fc-11f0-a3fd-2633e355b619
  - img "image"
- paragraph:
  - time: 06/06/2023
- heading "Agency service TB. LGM 1600 / TK. PRIMA..." [level=3]:
  - link "Agency service TB. LGM 1600 / TK. PRIMA...":
    - /url: /en/article/02cb480a-19fc-11f0-a3fd-2633e355b619
- paragraph: At the 30 May &ndash; 01 June 2023, PT PELNI Ampenan ...
- heading "Lihat Selengkapnya" [level=4]:
  - link "Lihat Selengkapnya":
    - /url: /en/article/02cb480a-19fc-11f0-a3fd-2633e355b619
- link "image":
  - /url: /en/article/02cb66a0-19fc-11f0-a3fd-2633e355b619
  - img "image"
- paragraph:
  - time: 06/06/2023
- heading "Agency service KM. PERMATA PUTRI by PT P..." [level=3]:
  - link "Agency service KM. PERMATA PUTRI by PT P...":
    - /url: /en/article/02cb66a0-19fc-11f0-a3fd-2633e355b619
- paragraph: At the 22 &ndash; 26 May 2023, PT PELNI Nabire agency ...
- heading "Lihat Selengkapnya" [level=4]:
  - link "Lihat Selengkapnya":
    - /url: /en/article/02cb66a0-19fc-11f0-a3fd-2633e355b619
- link "image":
  - /url: /en/article/02cb71cc-19fc-11f0-a3fd-2633e355b619
  - img "image"
- paragraph:
  - time: 06/06/2023
- heading "Agency service LCT. LIAN KARTIKA by bran..." [level=3]:
  - link "Agency service LCT. LIAN KARTIKA by bran...":
    - /url: /en/article/02cb71cc-19fc-11f0-a3fd-2633e355b619
- paragraph: At the 22 &ndash; 26 May 2023, PT PELNI Agats which ...
- heading "Lihat Selengkapnya" [level=4]:
  - link "Lihat Selengkapnya":
    - /url: /en/article/02cb71cc-19fc-11f0-a3fd-2633e355b619
- heading "Press Release" [level=2]
- paragraph: Follow the latest developments and official announcements of PT PELNI AGENCIES that reflect our commitment to the best service.
- link "image":
  - /url: "#"
  - img "image"
- paragraph:
  - time: 17/04/2025
- heading "PELNI Tangani Distribusi 4,2 Juta Ton Am..." [level=3]:
  - link "PELNI Tangani Distribusi 4,2 Juta Ton Am...":
    - /url: ""
- paragraph: Banda Aceh (Waspada Aceh) – PT Pelayaran Nasional Indonesia (Persero) atau PELNI menangani distribusi 4.235.282 metrik t...
- heading "Lihat Selengkapnya" [level=4]:
  - link "Lihat Selengkapnya":
    - /url: ""
- link "image":
  - /url: https://regional.kompas.com/read/2025/04/16/110148478/tpua-datangi-rumah-jokowi-di-solo-minta-ditunjukkan-ijazah-asli?source=headline
  - img "image"
- paragraph:
  - time: 16/04/2025
- heading "TPUA Datangi Rumah Jokowi di Solo, Minta..." [level=3]:
  - link "TPUA Datangi Rumah Jokowi di Solo, Minta...":
    - /url: https://regional.kompas.com/read/2025/04/16/110148478/tpua-datangi-rumah-jokowi-di-solo-minta-ditunjukkan-ijazah-asli?source=headline
- paragraph: ijazah jokowi, ijazah jokowi di ugm, polemik ijazah Jokowi, jokowi soal ijazah UGM, tpua datangi rumah jokowi di solo, J...
- heading "Lihat Selengkapnya" [level=4]:
  - link "Lihat Selengkapnya":
    - /url: https://regional.kompas.com/read/2025/04/16/110148478/tpua-datangi-rumah-jokowi-di-solo-minta-ditunjukkan-ijazah-asli?source=headline
- link "image":
  - /url: https://news.detik.com/internasional/d-7871572/trump-akan-pangkas-jumlah-pasukan-as-di-suriah
  - img "image"
- paragraph:
  - time: 16/04/2025
- heading "Trump Akan Pangkas Jumlah Pasukan AS di ..." [level=3]:
  - link "Trump Akan Pangkas Jumlah Pasukan AS di ...":
    - /url: https://news.detik.com/internasional/d-7871572/trump-akan-pangkas-jumlah-pasukan-as-di-suriah
- paragraph: donald trump,suriah,amerika serikat,pemerintahan biden,pemerintah irak,cbs news,departemen pertahanan as,amerika,serikat...
- heading "Lihat Selengkapnya" [level=4]:
  - link "Lihat Selengkapnya":
    - /url: https://news.detik.com/internasional/d-7871572/trump-akan-pangkas-jumlah-pasukan-as-di-suriah
- heading "Instagram Posts" [level=2]
- paragraph: Visit us on Instagram for the latest updates, service information, and special moments from PELNI!
- link "image PELNI Agencies remains committed to improving the quality of its services, particularly in providing medical service for ship crews and pass...":
  - /url: https://www.instagram.com/p/DJBGlnLTB79
  - img "image"
  - paragraph: PELNI Agencies remains committed to improving the quality of its services, particularly in providing medical service for ship crews and pass...
- link "image MT Rina 27 anchored at Padang Bay area! PELNI Agencies by @pelni162_bali proudly served as the agent. With full dedication, we support smoot...":
  - /url: https://www.instagram.com/p/DI-kF-Szu3c
  - img "image"
  - paragraph: MT Rina 27 anchored at Padang Bay area! PELNI Agencies by @pelni162_bali proudly served as the agent. With full dedication, we support smoot...
- link "image One of the vessels owned by @bahteradhiguna MV Arimbi Baruna, has been anchored in the Tanjung Batu area of Tarakan, supported by PT PELNI @...":
  - /url: https://www.instagram.com/p/DIvAfWZz_oP
  - img "image"
  - paragraph: One of the vessels owned by @bahteradhiguna MV Arimbi Baruna, has been anchored in the Tanjung Batu area of Tarakan, supported by PT PELNI @...
- heading "Our Partners" [level=2]
- paragraph: Building Strong and Sustainable Partnerships.
- img "Pelindo"
- img "Kemenparekraf"
- img "Kespel"
- img "AngkatanLaut"
- img "Kemenhub"
- img "KKP"
- img "Imigrasi"
- heading "Our Customers" [level=2]
- paragraph: Trusted by Various Institutions & Companies Across Indonesia.
- img "Carnival Cruise Line"
- img "Holland America Line"
- img "Linblad Expeditions"
- img "Meratus Line"
- img "Ponant"
- img "Samudera Indonesia"
- img "Seabourn"
- img "Tanto Intim Line"
- img "Tera Logistic"
- img "Voyages"
- contentinfo:
  - link "logo":
    - /url: /
    - img "logo"
  - paragraph: PT PELNI (Persero) is a leading shipping company in Indonesia with the biggest network of 44 branches and 116 Terminal poin across the country. Our core business focuses on passanger transportation and logistics. As part of our growth, we provide ship agency servicesfor both domestic and international vessels.
  - paragraph: Since its establisment on April 28, 1952, PT PELNI (Persero) has specialized in providing comprehensive ship agency servicesfor a variety of vessel.
  - paragraph: Contact
  - paragraph: "Telephone:"
  - link "Our phone":
    - /url: tel:6216342351
    - text: (+621) 634-2351
  - paragraph: "Cellular:"
  - link "Our mobile":
    - /url: tel:6281299960162
    - text: (+62) 812-9996-0162
  - paragraph: "E-mail:"
  - link "Our email":
    - /url: mailto:commercial@pelni-agencies.co.id
    - text: commercial@pelni-agencies.co.id
  - paragraph: "Address:"
  - link "Our address":
    - /url: https://www.google.com/maps/place/PT+PELNI+(Persero)+Kantor+Pusat/@-6.1628766,106.8168732,17z/data=!3m1!4b1!4m6!3m5!1s0x2e698ec177229905:0x966cd6cb1316ce14!8m2!3d-6.1628819!4d106.8194481!16s%2Fg%2F1ts6ddh6?entry=ttu&g_ep=EgoyMDI1MDIxOC4wIKXMDSoASAFQAw%3D%3D
    - text: Jl. Gajah Mada No.14 Jakarta Pusat
  - text: Social Media
  - link "mailto":
    - /url: mailto:commercial@pelni-agencies.co.id
    - img "mailto social icon"
  - link "linkedin":
    - /url: https://www.linkedin.com/in/pelni-agencies-77b0402b4
    - img "linkedin social icon"
  - link "facebook":
    - /url: https://www.facebook.com/profile.php?id=61568579673062
    - img "facebook social icon"
  - link "instagram":
    - /url: https://www.instagram.com/pelniagencies
    - img "instagram social icon"
  - paragraph: Connect with us on social media for the latest updates, special offers, and other information. PELNI Agencies - The best solution for your needs.
  - paragraph: © Copyright 2025 PT Pelayaran Nasional Indonesia. All rights reserved.
  - list:
    - listitem:
      - link "Privacy Policy":
        - /url: "#"
    - listitem:
      - link "Terms & Conditions":
        - /url: "#"
- alert
- iframe
```

# Test source

```ts
   6 |   await page.goto("https://agencies-dev.pelni.co.id/en");
   7 |   await page.getByLabel("Change").selectOption("id");
   8 |   await page.goto("https://agencies-dev.pelni.co.id/id");
   9 |   const heading = await page.locator(".wow > div").first();
   10 |
   11 |   // Expect heading tersebut terlihat
   12 |   await expect(heading).toContainText("Partner Kami");
   13 | });
   14 |
   15 | test("Mengubah Bahasa Inggris", async ({ page }) => {
   16 |   await page.goto("https://agencies-dev.pelni.co.id/en");
   17 |   //await page.getByRole('heading', { name: 'Partner Kami' }).click();
   18 |   const heading = await page.locator(".wow > div").first();
   19 |
   20 |   // Expect heading tersebut terlihat
   21 |   await expect(heading).toContainText("Our Partners");
   22 | });
   23 |
   24 | test("Mengubah Bahasa Francis", async ({ page }) => {
   25 |   await page.goto("https://agencies-dev.pelni.co.id/en");
   26 |   await page.getByLabel("Change").selectOption("fr");
   27 |   await page.goto("https://agencies-dev.pelni.co.id/fr");
   28 |   const heading = await page.locator(".wow > div").first();
   29 |   await expect(heading).toContainText("Nos partenaires");
   30 | });
   31 |
   32 | test("Mengubah Bahasa china", async ({ page }) => {
   33 |   await page.goto("https://agencies-dev.pelni.co.id/en");
   34 |   await page.getByLabel("Change").selectOption("zh");
   35 |   await page.goto("https://agencies-dev.pelni.co.id/zh");
   36 |   const heading = await page.locator(".wow > div").first();
   37 |   await expect(heading).toContainText("我们的合作伙伴");
   38 | });
   39 |
   40 | test("Test fungsi chat Whatsapp keagenan", async ({ browser }) => {
   41 |   const context = await browser.newContext();
   42 |   const page = await context.newPage();
   43 |
   44 |   await page.goto("https://agencies-dev.pelni.co.id/en");
   45 |   await page.locator(".styles-module_whatsappButton__tVits").click();
   46 |   await page.getByPlaceholder("Type a message..").click();
   47 |   await page.getByPlaceholder("Type a message..").fill("haalo");
   48 |   //const page1Promise = page.waitForEvent("popup");
   49 |
   50 |   const [newTab] = await Promise.all([
   51 |     context.waitForEvent("page"), // Menunggu tab baru terbuka
   52 |     await page.locator("form button").click(), // Klik link/tab yang membuka tab baru
   53 |   ]);
   54 |
   55 |   // Contoh expect: periksa apakah URL sesuai
   56 |   await expect(newTab.url()).toContain(
   57 |     "https://api.whatsapp.com/send/?phone=6281299960162"
   58 |   ); // atau URL yang diharapkan
   59 | });
   60 |
   61 | test("Menampilakan corusel", async ({ page }) => {
   62 |   await page.goto("https://agencies-dev.pelni.co.id/en");
   63 |   await page.getByText("PELNI AgenciesNo Agent Knows").nth(1).click();
   64 |   await page.getByRole("button", { name: "Previous" }).click();
   65 |   await page.getByText("PELNI AgenciesNo Agent Knows").nth(1).click();
   66 |   await page.getByRole("button", { name: "Next" }).click();
   67 |   await page.getByText("PELNI AgenciesNo Agent Knows").nth(1).click();
   68 | });
   69 |
   70 | test("Verifikasi Footer Media Instagram", async ({ page }) => {
   71 |   await page.goto("https://agencies-dev.pelni.co.id/en");
   72 |   const instagramLink = page.locator('a[aria-label="instagram"]');
   73 |   await expect(instagramLink).toBeVisible();
   74 |   await Promise.all([page.waitForNavigation(), instagramLink.click()]);
   75 |   await expect(page).toHaveURL("https://www.instagram.com/pelniagencies/");
   76 |   await page.waitForTimeout(2000);
   77 |   await page.screenshot();
   78 | });
   79 |
   80 | test("Verifikasi Footer Media LinkInd", async ({ page }) => {
   81 |   await page.goto("https://agencies-dev.pelni.co.id/en");
   82 |   const LinkidLink = page.locator('a[aria-label="linkedin"]');
   83 |   await expect(LinkidLink).toBeVisible();
   84 |   await Promise.all([page.waitForNavigation(), LinkidLink.click()]);
   85 |   await page.pause;
   86 |   await expect(page).toHaveTitle("Sign Up | LinkedIn");
   87 |   await page.screenshot();
   88 | });
   89 |
   90 | test("Verifikasi Footer Media Facebook", async ({ page }) => {
   91 |   await page.goto("https://agencies-dev.pelni.co.id/en");
   92 |   const Facebook = page.locator('a[aria-label="facebook"]');
   93 |   await expect(Facebook).toBeVisible();
   94 |   await Promise.all([page.waitForNavigation(), Facebook.click()]);
   95 |   await page.pause;
   96 |   await expect(page).toHaveURL(
   97 |     "https://www.facebook.com/people/Agencies-PELNI/61568579673062/"
   98 |   );
   99 |   await page.screenshot();
  100 | });
  101 |
  102 | test("Verifikasi Footer Media Email", async ({ page }) => {
  103 |   await page.goto("https://agencies-dev.pelni.co.id/en");
  104 |   const LinkidLink = page.locator('a[aria-label="mailto"]');
  105 |   await expect(LinkidLink).toBeVisible();
> 106 |   await Promise.all([page.waitForNavigation(), LinkidLink.click()]);
      |                           ^ Error: page.waitForNavigation: net::ERR_ABORTED; maybe frame was detached?
  107 |   await page.pause;
  108 |   await expect(page).toHaveURL("https://mail.pelni.co.id");
  109 |   await page.screenshot();
  110 | });
  111 |
  112 | const pagesToTest = [
  113 |   "https://agencies-dev.pelni.co.id/en/",
  114 |   "https://agencies-dev.pelni.co.id/en/about",
  115 |   "https://agencies-dev.pelni.co.id/en/branch",
  116 |   "https://agencies-dev.pelni.co.id/en/service/HUSBANDRY%20AGENCY",
  117 |   "https://agencies-dev.pelni.co.id/en/service/SUB%20AGENCY",
  118 |   "https://agencies-dev.pelni.co.id/en/service/FULL%20PORT%20AGENCY",
  119 |   "https://agencies-dev.pelni.co.id/en/service/Introduce%20One%20Enterprise%20Good%20Products%20Pelni%20Surya%20Dockyard",
  120 |   "https://agencies-dev.pelni.co.id/en/article",
  121 |   "https://agencies-dev.pelni.co.id/en/press-release",
  122 |   "https://agencies-dev.pelni.co.id/en/make-enquiry",
  123 |
  124 |   // Tambahkan URL halaman lain yang ingin diuji
  125 | ];
  126 |
  127 | for (const url of pagesToTest) {
  128 |   test(`Memeriksa ikon media sosial di halaman ${url}`, async ({ page }) => {
  129 |     await page.goto(url);
  130 |     await checkSocialIcons(page);
  131 |     const screenshot = await page.screenshot({ fullPage: true });
  132 |     allure.attachment(`Screenshot Halaman ${url} `, screenshot, "image/png");
  133 |   });
  134 | }
  135 |
  136 | test("Memverifikasi Menu Layanan Ketika Hover Menampilkan SubMenu ", async ({
  137 |   page,
  138 | }) => {
  139 |   const submenus = [
  140 |     "HUSBANDRY AGENCY",
  141 |     "SUB AGENCY",
  142 |     "FULL PORT AGENCY",
  143 |     "Introduce One Enterprise Good Products Pelni Surya Dockyard",
  144 |   ];
  145 |   await page.goto("https://agencies-dev.pelni.co.id/en");
  146 |   const menuUtama = page.getByText("Service", { exact: true });
  147 |   await menuUtama.hover();
  148 |   for (const submenu of submenus) {
  149 |     const Menus = page.getByRole("link", { name: `${submenu}` });
  150 |     const screenshot = await page.screenshot();
  151 |     allure.attachment(
  152 |       `Screenshot Halaman ${submenu} `,
  153 |       screenshot,
  154 |       "image/png"
  155 |     );
  156 |     await expect(Menus).toBeVisible();
  157 |   }
  158 | });
  159 |
  160 | test("Input Ajukan Penawaran", async ({ page }) => {
  161 |   await page.goto("https://agencies-dev.pelni.co.id/en");
  162 |   await page.getByRole("link", { name: "Branch" }).click();
  163 |   await page.locator(".css-19bb58m").click();
  164 |   await page.getByText("SEMARANGKARIMUN JAWA").click();
  165 |   await page.getByRole("button", { name: "Detail" }).click();
  166 |   const headingCabang = page.getByRole("heading", { name: "KARIMUN JAWA" });
  167 |   await expect(headingCabang).toHaveText("KARIMUN JAWA");
  168 | });
  169 |
  170 | test("Memverifikasi Marker Maps Cabang Ketika DiHover Muncul Detailnya", async ({
  171 |   page,
  172 | }) => {
  173 |   await page.goto("https://agencies-dev.pelni.co.id/en");
  174 |   await page.getByRole("link", { name: "Branch" }).click();
  175 |   await page.locator(".css-zvi4ix > div").click();
  176 |   await page.locator("div:nth-child(4) > img:nth-child(38)").click();
  177 |   await page.locator("div:nth-child(4) > img:nth-child(38)").hover();
  178 |   const markerVis = page.locator(".leaflet-popup-content");
  179 |   await expect(markerVis).toBeVisible();
  180 | });
  181 |
  182 | test("Mengecek Jumlah Count Card/Grids Pada Halaman Artikel", async ({
  183 |   page,
  184 | }) => {
  185 |   await page.goto("https://agencies-dev.pelni.co.id/en/article");
  186 |
  187 |   await page.getByRole("heading", { name: "Article" }).click();
  188 |   const cards = page.locator(".SingleCard_card__uT6Hb");
  189 |
  190 |   // Verifikasi jumlah card
  191 |   await expect(cards).toHaveCount(9);
  192 |   await page.screenshot({ fullPage: true });
  193 | });
  194 |
  195 | test("Mengecek Jumlah Count Card/Grids Pada Halaman Siaran Pers ", async ({
  196 |   page,
  197 | }) => {
  198 |   await page.goto("https://agencies-dev.pelni.co.id/id/press-release");
  199 |
  200 |   await page.getByRole("heading", { name: "Siaran Pers" }).click();
  201 |   const cards = page.locator(".SingleCard_card__uT6Hb");
  202 |
  203 |   // Verifikasi jumlah card
  204 |   await expect(cards).toHaveCount(8);
  205 |   await page.screenshot({ fullPage: true });
  206 | });
```